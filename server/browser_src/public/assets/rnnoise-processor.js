var j=null,B;class C extends AudioWorkletProcessor{state;constructor(m){super({...m,numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[1]});if(!j)j=new WebAssembly.Instance(m.processorOptions.module).exports,B=new Float32Array(j.memory.buffer);this.state=j.newState(),this.port.onmessage=({data:q})=>{let w=0;if(q){if(this.state===null)this.state=j.newState();w=j.getVadProb(this.state)}else if(this.state)j.deleteState(this.state),this.state=null;this.port.postMessage({vadProb:w,isActive:this.state!==null})}}process(m,q,w){if(this.state){B.set(m[0][0],j.getInput(this.state)/4);const z=q[0][0],A=j.pipe(this.state,z.length)/4;if(A)z.set(B.subarray(A,A+z.length))}else q[0][0].set(m[0][0]);return!0}}registerProcessor("rnnoise",C);
