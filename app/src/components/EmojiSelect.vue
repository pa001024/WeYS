<script lang="ts" setup>
import GraphemeSplitter from "grapheme-splitter"
import { ref } from "vue"
var splitter = new GraphemeSplitter()
function emoji(str: string | TemplateStringsArray) {
    if (typeof str === "string") {
        return [...splitter.splitGraphemes(str)]
    }
    return emoji(str.join(""))
}
const emojiList = {
    happy: emoji`ğŸ˜€ğŸ˜„ğŸ˜ğŸ˜†ğŸ˜œğŸ¤£ğŸ˜‚ğŸ¤¤ğŸ™‚ğŸ™ƒğŸ˜ğŸ« ğŸ˜‰ğŸ˜ŠğŸ˜‡ğŸ¥°ğŸ˜ğŸ¤©ğŸ˜˜ğŸ˜—ğŸ˜šğŸ˜™ğŸ¥²ğŸ˜‹ğŸ˜›ğŸ˜œğŸ¤ªğŸ˜ğŸ¤—ğŸ¤­ğŸ¥³ğŸ˜ºğŸ˜¸ğŸ˜¹ğŸ˜»ğŸ˜½`,
    sad: emoji`ğŸ˜ŸğŸ˜”ğŸ˜•ğŸ™ğŸ˜£ğŸ˜–ğŸ˜«ğŸ˜©ğŸ¥±ğŸ˜¢ğŸ˜­ğŸ˜¿ğŸ˜µğŸ¥ºğŸ˜³ğŸ˜±ğŸ’¤`,
    angry: emoji`ğŸ˜ ğŸ˜¡ğŸ¤¬ğŸ˜¤ğŸ¤¡ğŸ˜ˆğŸ‘¿ğŸ’¢ğŸ’¥ğŸ˜¾ğŸ‘»ğŸ‘ºğŸ’€`,
    cofuse: emoji`ğŸ¤”ğŸ™„ğŸ¤¤ğŸ¤®ğŸ˜¨ğŸ˜°ğŸ˜¬ğŸ˜…ğŸ˜“ğŸ˜¶ğŸ˜ğŸ˜‘ğŸ˜´ğŸ˜ªğŸ’«ğŸ’¦`,
    body: emoji`ğŸ‘ŒğŸ‘ğŸ‘ğŸ«°âœŒï¸ğŸ–•ğŸ‘‹ğŸ¤âœ‹ğŸ‘ŠğŸ¤›ğŸ¤œğŸ’ªğŸ‘ğŸ¤ğŸ«¶ğŸ™ğŸ‘‚ğŸ‘€ğŸ§ ğŸ¦·ğŸ¦´`,
    animal: emoji`ğŸµğŸ™ˆğŸ™‰ğŸ™ŠğŸµğŸ’ğŸ¦ğŸ¦§ğŸ¶ğŸ•ğŸ¦®ğŸ•â€ğŸ¦ºğŸ©ğŸºğŸ¦ŠğŸ¦ğŸ±ğŸˆğŸˆâ€â¬›ğŸ¦ğŸ¯ğŸ…ğŸ†ğŸ´ğŸ«ğŸ«ğŸğŸ¦„ğŸ¦“ğŸ¦ŒğŸ¦¬ğŸ®ğŸ‚ğŸƒğŸ„ğŸ·`,
    animal2: emoji`ğŸ–ğŸ—ğŸ½ğŸğŸ‘ğŸğŸªğŸ«ğŸ¦™ğŸ¦’ğŸ˜ğŸ¦£ğŸ¦ğŸ¦›ğŸ­ğŸğŸ€ğŸ¹ğŸ°ğŸ‡ğŸ¿ï¸ğŸ¦«ğŸ¦”ğŸ¦‡ğŸ»ğŸ»â€â„ï¸ğŸ¨ğŸ¼ğŸ¦¥ğŸ¦¦ğŸ¦¨ğŸ¦˜ğŸ¦¡ğŸ¾ğŸ¦ƒğŸ”`,
    animal3: emoji`ğŸ“ğŸ£ğŸ¤ğŸ¥ğŸ¦ğŸ§ğŸ•Šï¸ğŸ¦…ğŸ¦†ğŸ¦¢ğŸ¦‰ğŸ¦¤ğŸª¶ğŸ¦©ğŸ¦šğŸ¦œğŸª½ğŸ¦â€â¬›ğŸª¿ğŸ¦â€ğŸ”¥ğŸ¸ğŸŠğŸ¢ğŸ¦ğŸğŸ²ğŸ‰ğŸ¦•ğŸ¦–ğŸ³ğŸ‹ğŸ¬ğŸ¦­ğŸŸğŸ ğŸ¡`,
    animal4: emoji`ğŸ¦ˆğŸ™ğŸšğŸª¸ğŸª¼ğŸŒğŸ¦‹ğŸ›ğŸœğŸğŸª²ğŸğŸ¦—ğŸª³ğŸ•·ï¸ğŸ•¸ï¸ğŸ¦‚ğŸ¦ŸğŸª°ğŸª±ğŸ¦ `,
    plant: emoji`ğŸ’ğŸŒ¸ğŸ’®ğŸª·ğŸµï¸ğŸŒ¹ğŸ¥€ğŸŒºğŸŒ»ğŸŒ¼ğŸŒ·ğŸª»ğŸŒ±ğŸª´ğŸŒ²ğŸŒ³ğŸŒ´ğŸŒµğŸŒ¾ğŸŒ¿â˜˜ï¸ğŸ€ğŸğŸ‚ğŸƒğŸª¹ğŸªºğŸ„`,
    sign: emoji`ğŸ’Šâ¤ğŸ’•ğŸ’˜ğŸ’–ğŸ’”âš ï¸ğŸš«ğŸ”â“âœ”ï¸âŒğŸ’©ğŸ³ï¸â€ğŸŒˆğŸ³ï¸ğŸ•¶ï¸ğŸ‘—ğŸ“£ğŸµğŸ¼ğŸ¤ğŸ·ğŸ“±â˜ï¸ğŸª«ğŸ’¡ğŸ“·ğŸ’°ğŸ§¬ğŸ’‰ğŸš¬ğŸª¦`,
    other: emoji`ğŸŒˆğŸ‰âœ¨â˜€â­â˜ï¸ğŸŒ§ï¸âš¡ğŸ’§ğŸ”¥ğŸŒâŒ›â°ğŸ†ğŸšğŸ¦€ğŸ¦ğŸ¦ğŸ¥‘ğŸ†ğŸ¥”ğŸ¥•ğŸŒ½ğŸŒ¶ï¸ğŸ¥œğŸ§„ğŸ§…ğŸ¥œğŸŒ°ğŸ„â€ğŸŸ«`,
    fruit: emoji`ğŸ‡ğŸˆğŸ‰ğŸŠğŸ‹ğŸ‹â€ğŸŸ©ğŸŒğŸğŸ¥­ğŸğŸğŸğŸ‘ğŸ’ğŸ“ğŸ«ğŸ¥ğŸ…ğŸ«’ğŸ¥¥`,
    sugar: emoji`ğŸ¦ğŸ§ğŸ¨ğŸ©ğŸªğŸ‚ğŸ°ğŸ§ğŸ¥§ğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯`,
    drink: emoji`â˜•ğŸ¼ğŸ¥›ğŸ«–ğŸµğŸ¶ğŸ¾ğŸ·ğŸ¸ğŸ¹ğŸºğŸ»ğŸ¥‚ğŸ¥ƒğŸ«—ğŸ¥¤ğŸ§‹ğŸ§ƒğŸ§‰ğŸ§Š`,
    tool: emoji`ğŸ´ğŸ¥¢ğŸ½ï¸ğŸ¥„ğŸ”ªğŸ”¨ğŸª“â›ï¸âš’ï¸ğŸ› ï¸ğŸ—¡ï¸âš”ï¸ğŸ’£ğŸªƒğŸ¹ğŸ›¡ï¸ğŸªšğŸ”§ğŸª›ğŸ”©âš™ï¸ğŸ—œï¸âš–ï¸ğŸ¦¯ğŸ”—â›“ï¸â€ğŸ’¥ğŸªğŸ§°ğŸ§²ğŸªœ`,
    room: emoji`ğŸš½ğŸšªğŸ›—ğŸªğŸªŸğŸ›ï¸ğŸ›‹ï¸ğŸª‘ğŸš½ğŸª ğŸš¿ğŸ›ğŸª¤ğŸª’ğŸ§´ğŸ§·ğŸ§¹ğŸ§ºğŸ§»ğŸª£ğŸ§¼ğŸ«§ğŸª¥ğŸ§½ğŸ§¯ğŸ›’`,
} as Record<string, string[]>

const emit = defineEmits(["select"])
const tab = ref("happy")
const page = ref(0)
</script>

<template>
    <div class="flex flex-col gap-4">
        <div class="grid grid-cols-8 gap-2">
            <div class="btn btn-ghost btn-square btn-sm text-lg" v-for="item in emojiList[tab]" :key="item" @click="emit('select', item)">
                {{ item }}
            </div>
        </div>
        <div class="flex-none grid grid-cols-8 gap-2">
            <button v-if="page" class="btn btn-square btn-ghost btn-sm" @click="page = Math.max(0, page === 7 ? 0 : page - 6)">
                <Icon icon="la:prev" />
            </button>
            <button
                v-for="name in Object.keys(emojiList).slice(page, (page || 1) + 6)"
                :key="name"
                class="btn btn-square btn-ghost btn-sm"
                @click="tab = name"
                :class="tab === name ? 'bg-gray-200' : ''"
            >
                {{ emojiList[name][0] }}
            </button>
            <button v-if="Object.keys(emojiList).length > page + 6" class="btn btn-square btn-ghost btn-sm" @click="page = (page || 1) + 6">
                <Icon icon="la:next" />
            </button>
        </div>
    </div>
</template>
